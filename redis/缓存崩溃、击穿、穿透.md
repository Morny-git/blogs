### 缓存穿透

获取一个不存在的数据，不论缓存还是数据库都没有，若黑客利用此漏洞进行攻击可能压垮数据库

措施：在接口层应该对参数进行校验

从缓存取不到的数据，在数据库中也没有取到，这时也可以将对应Key的Value对写为null、位置错误、稍后重试这样的值具体取啥问产品，或者看具体的场景，缓存有效时间可以设置短点，如30秒（设置太长会导致正常情况也没法使用）。

这样可以防止攻击用户反复用同一个id暴力攻击，但是我们要知道正常用户是不会在单秒内发起这么多次请求的，那网关层**Nginx**本渣我也记得有配置项，可以让运维大大对单个IP每秒访问次数超出阈值的IP都拉黑

### 缓存雪崩

当缓存服务器重启或者大量缓存集中在某一个时间段失效，失效期间打崩了DB

措施：

缓存失效时间分散开，在失效时间的基础上增加一个随机数。缓存数据库是分布式部署，将热点数据均匀分布在不同的缓存数据库中。热点数据永不过时。

### 缓存击穿

指一个Key非常热点，集中对这一个点进行大量访问，当这个Key在失效的瞬间，持续的大并发就穿破缓存，直接请求数据库，就像在一个完好无损的桶上凿开了一个洞

措施：

设置热点数据永远不过期。或者加上互斥锁就能搞定了。接口限流与熔断，降级

。